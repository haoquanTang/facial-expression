<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ‹å‹åœˆä¹å®«æ ¼å›¾ç‰‡åˆ†å‰²å·¥å…·</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <style>
        /* è‡ªå®šä¹‰æ ·å¼ */
        .upload-area {
            border: 2px dashed #d1d5db;
            transition: all 0.3s ease;
        }
        .upload-area.dragover {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .preview-grid {
            display: grid;
            gap: 2px;
            background-color: #e5e7eb;
            padding: 2px;
            border-radius: 8px;
        }
        .grid-3x3 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }
        .grid-1x3 {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: 1fr;
        }
        .grid-3x1 {
            grid-template-columns: 1fr;
            grid-template-rows: repeat(3, 1fr);
        }
        .grid-center {
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }
        .grid-center .center-piece {
            grid-column: 2;
            grid-row: 2;
        }
        .loading {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- é€šçŸ¥ç»„ä»¶ -->
    <div id="notification" class="notification">
        <div class="bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg">
            <span id="notification-text">æ“ä½œæˆåŠŸï¼</span>
        </div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- æ ‡é¢˜ -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">æœ‹å‹åœˆä¹å®«æ ¼å›¾ç‰‡åˆ†å‰²å·¥å…·</h1>
            <p class="text-gray-600">è½»æ¾åˆ¶ä½œä¹å®«æ ¼æ‹¼å›¾ï¼Œæå‡æœ‹å‹åœˆå­˜åœ¨æ„Ÿ</p>
        </div>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- å·¦ä¾§ï¼šå›¾ç‰‡ä¸Šä¼ å’Œé¢„è§ˆ -->
            <div class="lg:col-span-2 space-y-6">
                <!-- å›¾ç‰‡ä¸Šä¼ åŒºåŸŸ -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4">ğŸ“¸ ä¸Šä¼ å›¾ç‰‡</h2>
                    <div id="uploadArea" class="upload-area rounded-lg p-8 text-center cursor-pointer">
                        <div class="space-y-4">
                            <div class="text-6xl text-gray-400">ğŸ“</div>
                            <div>
                                <p class="text-lg font-medium text-gray-700">ç‚¹å‡»æˆ–æ‹–æ‹½å›¾ç‰‡åˆ°æ­¤å¤„</p>
                                <p class="text-sm text-gray-500 mt-2">æ”¯æŒ JPGã€PNGã€GIF æ ¼å¼ï¼Œå»ºè®®å°ºå¯¸ 1080x1080 ä»¥ä¸Š</p>
                            </div>
                        </div>
                        <input type="file" id="imageInput" accept="image/*" class="hidden">
                    </div>
                </div>

                <!-- åŸå›¾é¢„è§ˆ -->
                <div id="originalPreview" class="bg-white rounded-lg shadow-md p-6 hidden">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4">ğŸ–¼ï¸ åŸå›¾é¢„è§ˆ</h2>
                    <div class="flex justify-center">
                        <img id="originalImage" class="max-w-full max-h-96 rounded-lg shadow-sm" alt="åŸå›¾é¢„è§ˆ">
                    </div>
                    <div id="imageInfo" class="mt-4 text-sm text-gray-600 text-center"></div>
                </div>

                <!-- åˆ†å‰²é¢„è§ˆ -->
                <div id="splitPreview" class="bg-white rounded-lg shadow-md p-6 hidden">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4">âœ‚ï¸ åˆ†å‰²é¢„è§ˆ</h2>
                    <div id="previewContainer" class="flex justify-center">
                        <div id="previewGrid" class="preview-grid w-96 h-96"></div>
                    </div>
                    <div class="mt-4 text-center">
                        <button id="downloadBtn" class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            <span class="inline-flex items-center">
                                <svg id="downloadIcon" class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <span id="downloadText">æ‰“åŒ…ä¸‹è½½</span>
                            </span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- å³ä¾§ï¼šæ§åˆ¶é¢æ¿ -->
            <div class="space-y-6">
                <!-- åˆ†å‰²æ¨¡å¼ -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">ğŸ¯ åˆ†å‰²æ¨¡å¼</h3>
                    <div class="space-y-3">
                        <label class="flex items-center space-x-3 cursor-pointer">
                            <input type="radio" name="splitMode" value="grid3x3" class="text-blue-500" checked>
                            <span class="text-gray-700">ä¹å®«æ ¼å…¨åˆ†å‰² (3Ã—3)</span>
                        </label>
                        <label class="flex items-center space-x-3 cursor-pointer">
                            <input type="radio" name="splitMode" value="top3" class="text-blue-500">
                            <span class="text-gray-700">ä¸Šä¸‰æ ¼ (1Ã—3)</span>
                        </label>
                        <label class="flex items-center space-x-3 cursor-pointer">
                            <input type="radio" name="splitMode" value="left3" class="text-blue-500">
                            <span class="text-gray-700">å·¦ä¸‰æ ¼ (3Ã—1)</span>
                        </label>
                        <label class="flex items-center space-x-3 cursor-pointer">
                            <input type="radio" name="splitMode" value="center" class="text-blue-500">
                            <span class="text-gray-700">ä¸­å¿ƒæ ¼çªå‡º</span>
                        </label>
                    </div>
                </div>

                <!-- ç¾åŒ–è®¾ç½® -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">ğŸ¨ ç¾åŒ–è®¾ç½®</h3>
                    
                    <!-- è¾¹æ¡†è®¾ç½® -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">è¾¹æ¡†ç²—ç»†</label>
                        <input type="range" id="borderWidth" min="0" max="20" value="2" class="w-full">
                        <div class="flex justify-between text-xs text-gray-500 mt-1">
                            <span>0px</span>
                            <span id="borderWidthValue">2px</span>
                            <span>20px</span>
                        </div>
                    </div>

                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">è¾¹æ¡†é¢œè‰²</label>
                        <input type="color" id="borderColor" value="#ffffff" class="w-full h-10 rounded border">
                    </div>

                    <!-- åœ†è§’è®¾ç½® -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">åœ†è§’å¼§åº¦</label>
                        <input type="range" id="borderRadius" min="0" max="50" value="0" class="w-full">
                        <div class="flex justify-between text-xs text-gray-500 mt-1">
                            <span>0px</span>
                            <span id="borderRadiusValue">0px</span>
                            <span>50px</span>
                        </div>
                    </div>

                    <!-- æ°´å°è®¾ç½® -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">æ°´å°æ–‡å­—</label>
                        <input type="text" id="watermarkText" placeholder="è¾“å…¥æ°´å°æ–‡å­—" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        
                        <div class="mt-3">
                            <label class="block text-sm font-medium text-gray-700 mb-2">æ°´å°ä½ç½®</label>
                            <select id="watermarkPosition" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="none">æ— æ°´å°</option>
                                <option value="top-left">å·¦ä¸Šè§’</option>
                                <option value="top-right">å³ä¸Šè§’</option>
                                <option value="bottom-left">å·¦ä¸‹è§’</option>
                                <option value="bottom-right">å³ä¸‹è§’</option>
                                <option value="center">å±…ä¸­</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- æ“ä½œæŒ‰é’® -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">âš¡ å¿«é€Ÿæ“ä½œ</h3>
                    <div class="space-y-3">
                        <button id="previewBtn" class="w-full bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            ğŸ”„ ç”Ÿæˆé¢„è§ˆ
                        </button>
                        <button id="resetBtn" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                            ğŸ”„ é‡ç½®è®¾ç½®
                        </button>
                    </div>
                </div>

                <!-- ä½¿ç”¨æç¤º -->
                <div class="bg-blue-50 rounded-lg p-4">
                    <h4 class="text-sm font-semibold text-blue-800 mb-2">ğŸ’¡ ä½¿ç”¨æç¤º</h4>
                    <ul class="text-xs text-blue-700 space-y-1">
                        <li>â€¢ å»ºè®®ä¸Šä¼ æ­£æ–¹å½¢å›¾ç‰‡è·å¾—æœ€ä½³æ•ˆæœ</li>
                        <li>â€¢ æ·»åŠ ç™½è‰²è¾¹æ¡†å¯è§£å†³æœ‹å‹åœˆæ‹¼æ¥ç¼éš™</li>
                        <li>â€¢ å›¾ç‰‡ä¼šæŒ‰é¡ºåºç¼–å·ä¾¿äºå‘å¸ƒ</li>
                        <li>â€¢ æ”¯æŒä¸€é”®æ‰“åŒ…ä¸‹è½½æ‰€æœ‰åˆ†å‰²å›¾ç‰‡</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="grid-splitter.js"></script>
</body>
</html>