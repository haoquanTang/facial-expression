# 朋友圈九宫格图片分割工具

一款专为朋友圈设计的图片分割工具，支持将一张大图分割为九宫格、三宫格等多种格式，并提供边框、圆角、水印等美化功能，让你轻松制作创意配图。

## 功能特性

### 🎯 多种分割模式
- **九宫格全分割 (3×3)**：经典九宫格布局，适合展示完整画面
- **上三格 (1×3)**：水平三分割，适合横向构图
- **左三格 (3×1)**：垂直三分割，适合纵向构图
- **中心格突出**：九宫格布局，突出中心内容

### 🎨 美化功能
- **边框设置**：0-20px可调边框，解决朋友圈图片拼接缝隙问题
- **边框颜色**：自定义边框颜色，默认白色
- **圆角处理**：0-50px圆角弧度，打造简约风格
- **水印添加**：支持文字水印，5个位置可选，防止图片盗用

### 📱 用户体验
- **拖拽上传**：支持拖拽文件到页面直接上传
- **实时预览**：参数调整实时生效，所见即所得
- **一键下载**：自动打包ZIP文件，按顺序编号
- **响应式设计**：完美适配桌面和移动设备

## 使用说明

### 快速开始
1. 打开 `index.html` 文件
2. 点击上传区域或拖拽图片文件
3. 选择分割模式和美化参数
4. 点击「生成预览」查看效果
5. 点击「打包下载」获取分割图片

### 详细操作

#### 📸 图片上传
- **支持格式**：JPG、PNG、GIF
- **文件大小**：最大10MB
- **推荐尺寸**：1080×1080像素或更高
- **上传方式**：点击上传区域选择文件，或直接拖拽图片到页面

#### ✂️ 分割模式选择

**九宫格全分割 (3×3)**
- 将图片分割为9个正方形
- 适合展示完整场景或人物
- 朋友圈发布时按1-9顺序排列

**上三格 (1×3)**
- 将图片水平分割为3个矩形
- 适合横向构图，如风景照
- 朋友圈发布时水平排列

**左三格 (3×1)**
- 将图片垂直分割为3个矩形
- 适合纵向构图，如人物照
- 朋友圈发布时垂直排列

**中心格突出**
- 九宫格布局，中心格保持完整
- 适合突出主体内容
- 营造视觉焦点效果

#### 🎨 美化设置

**边框设置**
- **粗细调节**：0-20px滑块调节
- **颜色选择**：点击色块自定义颜色
- **作用**：解决朋友圈图片间的拼接缝隙
- **建议**：使用2-5px白色边框效果最佳

**圆角设置**
- **弧度调节**：0-50px滑块调节
- **效果**：数值越大圆角越明显
- **风格**：适合简约、现代风格设计
- **建议**：10-20px圆角适合大多数场景

**水印设置**
- **文字输入**：支持中英文、数字、符号
- **位置选择**：左上角、右上角、左下角、右下角、居中
- **样式**：白色文字，黑色描边，半透明效果
- **用途**：防止图片盗用，标识作者信息

### 💡 使用技巧

#### 图片选择建议
- **正方形图片**：获得最佳分割效果
- **高分辨率**：确保分割后清晰度
- **主体居中**：避免重要内容被分割线切断
- **色彩丰富**：增强视觉冲击力

#### 参数配置建议
- **九宫格模式**：2px白色边框 + 0px圆角
- **三宫格模式**：3px白色边框 + 5px圆角
- **简约风格**：细边框 + 大圆角
- **经典风格**：中等边框 + 无圆角

#### 朋友圈发布技巧
- **按顺序发布**：使用编号顺序上传图片
- **配文简洁**：让图片成为主角
- **发布时间**：选择好友活跃时段
- **互动引导**：适当引导好友评论互动

## 技术实现

### 技术栈
- **前端框架**：原生JavaScript + HTML5 + CSS3
- **UI框架**：Tailwind CSS
- **图片处理**：HTML5 Canvas API
- **文件打包**：JSZip库
- **响应式设计**：CSS Grid + Flexbox

### 核心算法

#### 图片分割算法
```javascript
// 核心分割逻辑
async splitImage(img, config) {
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    
    // 1. 计算分割参数
    const splitInfo = this.getSplitInfo(config.splitMode);
    const { rows, cols, pieces } = splitInfo;
    
    // 2. 确保图片正方形裁剪
    const size = Math.min(img.width, img.height);
    const offsetX = (img.width - size) / 2;
    const offsetY = (img.height - size) / 2;
    
    // 3. 逐个生成分割片段
    for (let piece of pieces) {
        // 绘制边框、图片、水印
        // 转换为blob格式
    }
}
```

#### 美化处理
- **边框绘制**：使用fillRect绘制背景色
- **圆角处理**：quadraticCurveTo绘制圆角路径
- **水印添加**：fillText + strokeText双重描边
- **图片裁剪**：clip()方法实现圆角裁剪

#### 性能优化
- **Canvas复用**：单个Canvas重复使用
- **异步处理**：Promise + async/await
- **内存管理**：及时释放blob对象
- **错误处理**：完整的异常捕获机制

## 文件结构

```
朋友圈九宫格图片分割工具/
├── index.html          # 主页面文件
├── grid-splitter.js    # 核心JavaScript逻辑
├── README.md          # 使用说明文档
└── 项目需求.md         # 项目需求文档
```

## 浏览器兼容性

- ✅ Chrome 60+
- ✅ Firefox 55+
- ✅ Safari 12+
- ✅ Edge 79+
- ⚠️ IE 不支持（需要Canvas和ES6支持）

## 常见问题

### Q: 为什么上传的图片变形了？
A: 工具会自动将图片裁剪为正方形，建议上传正方形图片或主体居中的图片。

### Q: 分割后的图片模糊怎么办？
A: 请上传高分辨率图片（建议1080×1080以上），避免使用过度压缩的图片。

### Q: 如何获得最佳的朋友圈效果？
A: 建议使用2-5px白色边框，这样可以完美解决朋友圈图片拼接时的缝隙问题。

### Q: 水印位置可以自定义吗？
A: 目前支持5个固定位置，基本覆盖所有使用场景。如需更多自定义，可以修改代码中的水印绘制逻辑。

### Q: 支持批量处理吗？
A: 当前版本支持单张图片处理，批量功能可以在后续版本中添加。

### Q: 生成的文件为什么是ZIP格式？
A: 为了方便用户一次性下载所有分割图片，并且保持文件的有序命名。

## 更新日志

### v1.0.0 (2024-01-09)
- ✨ 初始版本发布
- ✨ 支持4种分割模式
- ✨ 完整的美化功能（边框、圆角、水印）
- ✨ 拖拽上传和实时预览
- ✨ ZIP打包下载功能
- ✨ 响应式设计和错误处理

## 开发计划

### v1.1.0 (计划中)
- 🔄 批量图片处理
- 🔄 更多水印样式选项
- 🔄 图片滤镜效果
- 🔄 自定义分割比例

### v1.2.0 (计划中)
- 🔄 在线图片编辑器
- 🔄 模板预设功能
- 🔄 社交分享功能
- 🔄 云端存储支持

## 许可证

本项目采用 MIT 许可证，详情请参阅 LICENSE 文件。

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

### 贡献指南
1. Fork 本仓库
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 联系方式

如有问题或建议，欢迎通过以下方式联系：
- 📧 Email: your-email@example.com
- 🐛 Issues: [GitHub Issues](https://github.com/your-username/grid-splitter/issues)

---

**让朋友圈更精彩！** 🌟✨