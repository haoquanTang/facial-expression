## 1.Architecture design

```mermaid
  graph TD
    A[ç”¨æˆ·æµè§ˆå™¨] --> B[HTML5 å‰ç«¯åº”ç”¨]
    B --> C[CSS3 åŠ¨ç”»å¼•æ“]
    B --> D[JavaScript æ§åˆ¶é€»è¾‘]
    B --> E[æœ¬åœ°å­˜å‚¨]

    subgraph "å‰ç«¯å±‚"
        B
        C
        D
    end

    subgraph "æ•°æ®å±‚"
        E
    end
```

## 2.Technology Description

* å‰ç«¯ï¼šHTML5 + CSS3 + åŸç”ŸJavaScript + Canvas API

* åç«¯ï¼šæ— éœ€åç«¯æœåŠ¡

## 3.Route definitions

| Route     | Purpose          |
| --------- | ---------------- |
| /         | ä¸»å±•ç¤ºé¡µé¢ï¼Œæ˜¾ç¤ºå·¨å‹çƒå’Œè¡¨æƒ…åŠ¨ç”» |
| /settings | è®¾ç½®é¡µé¢ï¼Œé…ç½®æ’­æ”¾å‚æ•°å’Œè§†è§‰æ•ˆæœ |

## 4.API definitions

### 4.1 æœ¬åœ°å­˜å‚¨API

**ä¿å­˜ç”¨æˆ·è®¾ç½®**

```javascript
// ä¿å­˜é…ç½®åˆ°localStorage
localStorage.setItem('sphereSettings', JSON.stringify(settings))
```

å‚æ•°è¯´æ˜ï¼š

| Param Name | Param Type | Description       |
| ---------- | ---------- | ----------------- |
| playSpeed  | number     | æ’­æ”¾é€Ÿåº¦ (500-5000ms) |
| autoPlay   | boolean    | æ˜¯å¦è‡ªåŠ¨æ’­æ”¾            |
| brightness | number     | LEDäº®åº¦ (0-100)     |
| glowEffect | boolean    | æ˜¯å¦å¯ç”¨å…‰æ™•æ•ˆæœ          |

**è¡¨æƒ…æ•°æ®ç»“æ„**

```javascript
{
  "id": "happy",
  "name": "å¼€å¿ƒ",
  "emoji": "ğŸ˜Š",
  "duration": 2000,
  "animation": "bounce"
}
```

## 5.æ•°æ®æ¨¡å‹

### 5.1 æ•°æ®æ¨¡å‹å®šä¹‰

```mermaid
erDiagram
    EXPRESSION {
        string id PK
        string name
        string emoji
        number duration
        string animation
    }
    SETTINGS {
        number playSpeed
        boolean autoPlay
        number brightness
        boolean glowEffect
        string theme
    }
    PLAYLIST {
        string id PK
        array expressions
        boolean shuffle
        boolean repeat
    }
```

### 5.2 æ•°æ®å®šä¹‰

**è¡¨æƒ…æ•°æ® (expressions.js)**

```javascript
// è¡¨æƒ…åº“å®šä¹‰
const EXPRESSIONS = [
    {
        id: 'happy',
        name: 'å¼€å¿ƒ',
        emoji: 'ğŸ˜Š',
        duration: 2000,
        animation: 'bounce'
    },
    {
        id: 'love',
        name: 'çˆ±å¿ƒ',
        emoji: 'ğŸ˜',
        duration: 2500,
        animation: 'pulse'
    },
    {
        id: 'cool',
        name: 'é…·ç‚«',
        emoji: 'ğŸ˜',
        duration: 3000,
        animation: 'rotate'
    },
    {
        id: 'party',
        name: 'æ´¾å¯¹',
        emoji: 'ğŸ¥³',
        duration: 2000,
        animation: 'shake'
    },
    {
        id: 'fire',
        name: 'ç«ç„°',
        emoji: 'ğŸ”¥',
        duration: 2500,
        animation: 'flicker'
    }
];

// é»˜è®¤è®¾ç½®
const DEFAULT_SETTINGS = {
    playSpeed: 2000,
    autoPlay: true,
    brightness: 80,
    glowEffect: true,
    theme: 'neon',
    transitionDuration: 500
};
```

**åŠ¨ç”»é…ç½® (animations.js)**

```javascript
// CSSåŠ¨ç”»å…³é”®å¸§å®šä¹‰
const ANIMATIONS = {
    bounce: {
        keyframes: '@keyframes bounce { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }',
        duration: '1s',
        timing: 'ease-in-out',
        iteration: 'infinite'
    },
    pulse: {
        keyframes: '@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }',
        duration: '1.5s',
        timing: 'ease-in-out',
        iteration: 'infinite'
    },
    rotate: {
        keyframes: '@keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }',
        duration: '3s',
        timing: 'linear',
        iteration: 'infinite'
    }
};
```

